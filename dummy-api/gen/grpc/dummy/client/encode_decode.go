// Code generated by goa v3.23.4, DO NOT EDIT.
//
// dummy gRPC client encoders and decoders
//
// Command:
// $ goa gen github.com/vidwadeseram/go-boilerplate/dummy-api/design

package client

import (
	"context"

	dummy "github.com/vidwadeseram/go-boilerplate/dummy-api/gen/dummy"
	dummyviews "github.com/vidwadeseram/go-boilerplate/dummy-api/gen/dummy/views"
	dummypb "github.com/vidwadeseram/go-boilerplate/dummy-api/gen/grpc/dummy/pb"
	goagrpc "goa.design/goa/v3/grpc"
	"google.golang.org/grpc"
	"google.golang.org/grpc/metadata"
)

// BuildCreateItemFunc builds the remote method to invoke for "dummy" service
// "create_item" endpoint.
func BuildCreateItemFunc(grpccli dummypb.DummyClient, cliopts ...grpc.CallOption) goagrpc.RemoteFunc {
	return func(ctx context.Context, reqpb any, opts ...grpc.CallOption) (any, error) {
		for _, opt := range cliopts {
			opts = append(opts, opt)
		}
		if reqpb != nil {
			return grpccli.CreateItem(ctx, reqpb.(*dummypb.CreateItemRequest), opts...)
		}
		return grpccli.CreateItem(ctx, &dummypb.CreateItemRequest{}, opts...)
	}
}

// EncodeCreateItemRequest encodes requests sent to dummy create_item endpoint.
func EncodeCreateItemRequest(ctx context.Context, v any, md *metadata.MD) (any, error) {
	payload, ok := v.(*dummy.CreateItemPayload)
	if !ok {
		return nil, goagrpc.ErrInvalidType("dummy", "create_item", "*dummy.CreateItemPayload", v)
	}
	return NewProtoCreateItemRequest(payload), nil
}

// DecodeCreateItemResponse decodes responses from the dummy create_item
// endpoint.
func DecodeCreateItemResponse(ctx context.Context, v any, hdr, trlr metadata.MD) (any, error) {
	var view string
	{
		if vals := hdr.Get("goa-view"); len(vals) > 0 {
			view = vals[0]
		}
	}
	message, ok := v.(*dummypb.CreateItemResponse)
	if !ok {
		return nil, goagrpc.ErrInvalidType("dummy", "create_item", "*dummypb.CreateItemResponse", v)
	}
	res := NewCreateItemResult(message)
	vres := &dummyviews.Item{Projected: res, View: view}
	if err := dummyviews.ValidateItem(vres); err != nil {
		return nil, err
	}
	return dummy.NewItem(vres), nil
}

// BuildListItemsFunc builds the remote method to invoke for "dummy" service
// "list_items" endpoint.
func BuildListItemsFunc(grpccli dummypb.DummyClient, cliopts ...grpc.CallOption) goagrpc.RemoteFunc {
	return func(ctx context.Context, reqpb any, opts ...grpc.CallOption) (any, error) {
		for _, opt := range cliopts {
			opts = append(opts, opt)
		}
		if reqpb != nil {
			return grpccli.ListItems(ctx, reqpb.(*dummypb.ListItemsRequest), opts...)
		}
		return grpccli.ListItems(ctx, &dummypb.ListItemsRequest{}, opts...)
	}
}

// EncodeListItemsRequest encodes requests sent to dummy list_items endpoint.
func EncodeListItemsRequest(ctx context.Context, v any, md *metadata.MD) (any, error) {
	payload, ok := v.(*dummy.ListItemsPayload)
	if !ok {
		return nil, goagrpc.ErrInvalidType("dummy", "list_items", "*dummy.ListItemsPayload", v)
	}
	return NewProtoListItemsRequest(payload), nil
}

// DecodeListItemsResponse decodes responses from the dummy list_items endpoint.
func DecodeListItemsResponse(ctx context.Context, v any, hdr, trlr metadata.MD) (any, error) {
	message, ok := v.(*dummypb.ListItemsResponse)
	if !ok {
		return nil, goagrpc.ErrInvalidType("dummy", "list_items", "*dummypb.ListItemsResponse", v)
	}
	if err := ValidateListItemsResponse(message); err != nil {
		return nil, err
	}
	res := NewListItemsResult(message)
	return res, nil
}

// BuildGetItemFunc builds the remote method to invoke for "dummy" service
// "get_item" endpoint.
func BuildGetItemFunc(grpccli dummypb.DummyClient, cliopts ...grpc.CallOption) goagrpc.RemoteFunc {
	return func(ctx context.Context, reqpb any, opts ...grpc.CallOption) (any, error) {
		for _, opt := range cliopts {
			opts = append(opts, opt)
		}
		if reqpb != nil {
			return grpccli.GetItem(ctx, reqpb.(*dummypb.GetItemRequest), opts...)
		}
		return grpccli.GetItem(ctx, &dummypb.GetItemRequest{}, opts...)
	}
}

// EncodeGetItemRequest encodes requests sent to dummy get_item endpoint.
func EncodeGetItemRequest(ctx context.Context, v any, md *metadata.MD) (any, error) {
	payload, ok := v.(*dummy.ItemIDPayload)
	if !ok {
		return nil, goagrpc.ErrInvalidType("dummy", "get_item", "*dummy.ItemIDPayload", v)
	}
	return NewProtoGetItemRequest(payload), nil
}

// DecodeGetItemResponse decodes responses from the dummy get_item endpoint.
func DecodeGetItemResponse(ctx context.Context, v any, hdr, trlr metadata.MD) (any, error) {
	var view string
	{
		if vals := hdr.Get("goa-view"); len(vals) > 0 {
			view = vals[0]
		}
	}
	message, ok := v.(*dummypb.GetItemResponse)
	if !ok {
		return nil, goagrpc.ErrInvalidType("dummy", "get_item", "*dummypb.GetItemResponse", v)
	}
	res := NewGetItemResult(message)
	vres := &dummyviews.Item{Projected: res, View: view}
	if err := dummyviews.ValidateItem(vres); err != nil {
		return nil, err
	}
	return dummy.NewItem(vres), nil
}

// BuildDeleteItemFunc builds the remote method to invoke for "dummy" service
// "delete_item" endpoint.
func BuildDeleteItemFunc(grpccli dummypb.DummyClient, cliopts ...grpc.CallOption) goagrpc.RemoteFunc {
	return func(ctx context.Context, reqpb any, opts ...grpc.CallOption) (any, error) {
		for _, opt := range cliopts {
			opts = append(opts, opt)
		}
		if reqpb != nil {
			return grpccli.DeleteItem(ctx, reqpb.(*dummypb.DeleteItemRequest), opts...)
		}
		return grpccli.DeleteItem(ctx, &dummypb.DeleteItemRequest{}, opts...)
	}
}

// EncodeDeleteItemRequest encodes requests sent to dummy delete_item endpoint.
func EncodeDeleteItemRequest(ctx context.Context, v any, md *metadata.MD) (any, error) {
	payload, ok := v.(*dummy.ItemIDPayload)
	if !ok {
		return nil, goagrpc.ErrInvalidType("dummy", "delete_item", "*dummy.ItemIDPayload", v)
	}
	return NewProtoDeleteItemRequest(payload), nil
}
