// Code generated by goa v3.23.4, DO NOT EDIT.
//
// dummy service
//
// Command:
// $ goa gen github.com/vidwadeseram/go-boilerplate/dummy-api/design

package dummy

import (
	"context"

	dummyviews "github.com/vidwadeseram/go-boilerplate/dummy-api/gen/dummy/views"
)

// CRUD operations on items that rely on identity-api for auth
type Service interface {
	// CreateItem implements create_item.
	CreateItem(context.Context, *CreateItemPayload) (res *Item, err error)
	// ListItems implements list_items.
	ListItems(context.Context, *ListItemsPayload) (res *ItemsCollection, err error)
	// GetItem implements get_item.
	GetItem(context.Context, *ItemIDPayload) (res *Item, err error)
	// DeleteItem implements delete_item.
	DeleteItem(context.Context, *ItemIDPayload) (err error)
}

// APIName is the name of the API as defined in the design.
const APIName = "dummy"

// APIVersion is the version of the API as defined in the design.
const APIVersion = "0.0.1"

// ServiceName is the name of the service as defined in the design. This is the
// same value that is set in the endpoint request contexts under the ServiceKey
// key.
const ServiceName = "dummy"

// MethodNames lists the service method names as defined in the design. These
// are the same values that are set in the endpoint request contexts under the
// MethodKey key.
var MethodNames = [4]string{"create_item", "list_items", "get_item", "delete_item"}

// CreateItemPayload is the payload type of the dummy service create_item
// method.
type CreateItemPayload struct {
	Name        string
	Description *string
	// Bearer token
	Token string
}

type DummyNotFoundError struct {
	Message string
}

type DummyUnauthorizedError struct {
	Message string
}

// Item is the result type of the dummy service create_item method.
type Item struct {
	// Item identifier
	ID          string
	Name        string
	Description *string
	OwnerID     string
	CreatedAt   string
}

// ItemIDPayload is the payload type of the dummy service get_item method.
type ItemIDPayload struct {
	ID string
	// Bearer token
	Token string
}

// ItemsCollection is the result type of the dummy service list_items method.
type ItemsCollection struct {
	Items []*Item
}

// ListItemsPayload is the payload type of the dummy service list_items method.
type ListItemsPayload struct {
	// Bearer token
	Token string
}

// Error returns an error description.
func (e *DummyNotFoundError) Error() string {
	return ""
}

// ErrorName returns "DummyNotFoundError".
//
// Deprecated: Use GoaErrorName - https://github.com/goadesign/goa/issues/3105
func (e *DummyNotFoundError) ErrorName() string {
	return e.GoaErrorName()
}

// GoaErrorName returns "DummyNotFoundError".
func (e *DummyNotFoundError) GoaErrorName() string {
	return "not_found"
}

// Error returns an error description.
func (e *DummyUnauthorizedError) Error() string {
	return ""
}

// ErrorName returns "DummyUnauthorizedError".
//
// Deprecated: Use GoaErrorName - https://github.com/goadesign/goa/issues/3105
func (e *DummyUnauthorizedError) ErrorName() string {
	return e.GoaErrorName()
}

// GoaErrorName returns "DummyUnauthorizedError".
func (e *DummyUnauthorizedError) GoaErrorName() string {
	return "unauthorized"
}

// NewItem initializes result type Item from viewed result type Item.
func NewItem(vres *dummyviews.Item) *Item {
	return newItem(vres.Projected)
}

// NewViewedItem initializes viewed result type Item from result type Item
// using the given view.
func NewViewedItem(res *Item, view string) *dummyviews.Item {
	p := newItemView(res)
	return &dummyviews.Item{Projected: p, View: "default"}
}

// newItem converts projected type Item to service type Item.
func newItem(vres *dummyviews.ItemView) *Item {
	res := &Item{
		Description: vres.Description,
	}
	if vres.ID != nil {
		res.ID = *vres.ID
	}
	if vres.Name != nil {
		res.Name = *vres.Name
	}
	if vres.OwnerID != nil {
		res.OwnerID = *vres.OwnerID
	}
	if vres.CreatedAt != nil {
		res.CreatedAt = *vres.CreatedAt
	}
	return res
}

// newItemView projects result type Item to projected type ItemView using the
// "default" view.
func newItemView(res *Item) *dummyviews.ItemView {
	vres := &dummyviews.ItemView{
		ID:          &res.ID,
		Name:        &res.Name,
		Description: res.Description,
		OwnerID:     &res.OwnerID,
		CreatedAt:   &res.CreatedAt,
	}
	return vres
}
