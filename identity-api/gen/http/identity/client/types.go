// Code generated by goa v3.23.4, DO NOT EDIT.
//
// identity HTTP client types
//
// Command:
// $ goa gen github.com/vidwadeseram/go-boilerplate/identity-api/design

package client

import (
	identity "github.com/vidwadeseram/go-boilerplate/identity-api/gen/identity"
	identityviews "github.com/vidwadeseram/go-boilerplate/identity-api/gen/identity/views"
	goa "goa.design/goa/v3/pkg"
)

// RegisterRequestBody is the type of the "identity" service "register"
// endpoint HTTP request body.
type RegisterRequestBody struct {
	DisplayName string `form:"display_name" json:"display_name" xml:"display_name"`
	Email       string `form:"email" json:"email" xml:"email"`
	Password    string `form:"password" json:"password" xml:"password"`
}

// LoginRequestBody is the type of the "identity" service "login" endpoint HTTP
// request body.
type LoginRequestBody struct {
	Email    string `form:"email" json:"email" xml:"email"`
	Password string `form:"password" json:"password" xml:"password"`
}

// ValidateTokenRequestBody is the type of the "identity" service
// "validate_token" endpoint HTTP request body.
type ValidateTokenRequestBody struct {
	// JWT access token
	Token string `form:"token" json:"token" xml:"token"`
}

// RegisterResponseBody is the type of the "identity" service "register"
// endpoint HTTP response body.
type RegisterResponseBody struct {
	// User identifier
	ID *string `form:"id,omitempty" json:"id,omitempty" xml:"id,omitempty"`
	// Email address
	Email *string `form:"email,omitempty" json:"email,omitempty" xml:"email,omitempty"`
	// Display name
	DisplayName *string `form:"display_name,omitempty" json:"display_name,omitempty" xml:"display_name,omitempty"`
	// Creation timestamp
	CreatedAt *string `form:"created_at,omitempty" json:"created_at,omitempty" xml:"created_at,omitempty"`
}

// LoginResponseBody is the type of the "identity" service "login" endpoint
// HTTP response body.
type LoginResponseBody struct {
	// JWT access token
	AccessToken *string `form:"access_token,omitempty" json:"access_token,omitempty" xml:"access_token,omitempty"`
	// Token expiry window in seconds
	ExpiresIn *int `form:"expires_in,omitempty" json:"expires_in,omitempty" xml:"expires_in,omitempty"`
}

// ValidateTokenResponseBody is the type of the "identity" service
// "validate_token" endpoint HTTP response body.
type ValidateTokenResponseBody struct {
	Valid  *bool   `form:"valid,omitempty" json:"valid,omitempty" xml:"valid,omitempty"`
	UserID *string `form:"user_id,omitempty" json:"user_id,omitempty" xml:"user_id,omitempty"`
	Email  *string `form:"email,omitempty" json:"email,omitempty" xml:"email,omitempty"`
	Reason *string `form:"reason,omitempty" json:"reason,omitempty" xml:"reason,omitempty"`
}

// NewRegisterRequestBody builds the HTTP request body from the payload of the
// "register" endpoint of the "identity" service.
func NewRegisterRequestBody(p *identity.RegisterPayload) *RegisterRequestBody {
	body := &RegisterRequestBody{
		DisplayName: p.DisplayName,
		Email:       p.Email,
		Password:    p.Password,
	}
	return body
}

// NewLoginRequestBody builds the HTTP request body from the payload of the
// "login" endpoint of the "identity" service.
func NewLoginRequestBody(p *identity.Credentials) *LoginRequestBody {
	body := &LoginRequestBody{
		Email:    p.Email,
		Password: p.Password,
	}
	return body
}

// NewValidateTokenRequestBody builds the HTTP request body from the payload of
// the "validate_token" endpoint of the "identity" service.
func NewValidateTokenRequestBody(p *identity.ValidateTokenPayload) *ValidateTokenRequestBody {
	body := &ValidateTokenRequestBody{
		Token: p.Token,
	}
	return body
}

// NewRegisterUserCreated builds a "identity" service "register" endpoint
// result from a HTTP "Created" response.
func NewRegisterUserCreated(body *RegisterResponseBody) *identityviews.UserView {
	v := &identityviews.UserView{
		ID:          body.ID,
		Email:       body.Email,
		DisplayName: body.DisplayName,
		CreatedAt:   body.CreatedAt,
	}

	return v
}

// NewLoginTokenResultOK builds a "identity" service "login" endpoint result
// from a HTTP "OK" response.
func NewLoginTokenResultOK(body *LoginResponseBody) *identity.TokenResult {
	v := &identity.TokenResult{
		AccessToken: *body.AccessToken,
		ExpiresIn:   *body.ExpiresIn,
	}

	return v
}

// NewValidateTokenValidationResultOK builds a "identity" service
// "validate_token" endpoint result from a HTTP "OK" response.
func NewValidateTokenValidationResultOK(body *ValidateTokenResponseBody) *identity.ValidationResult {
	v := &identity.ValidationResult{
		Valid:  *body.Valid,
		UserID: body.UserID,
		Email:  body.Email,
		Reason: body.Reason,
	}

	return v
}

// ValidateLoginResponseBody runs the validations defined on LoginResponseBody
func ValidateLoginResponseBody(body *LoginResponseBody) (err error) {
	if body.AccessToken == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("access_token", "body"))
	}
	if body.ExpiresIn == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("expires_in", "body"))
	}
	return
}

// ValidateValidateTokenResponseBody runs the validations defined on
// validate_token_response_body
func ValidateValidateTokenResponseBody(body *ValidateTokenResponseBody) (err error) {
	if body.Valid == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("valid", "body"))
	}
	return
}
