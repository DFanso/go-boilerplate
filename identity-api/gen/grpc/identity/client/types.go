// Code generated by goa v3.23.4, DO NOT EDIT.
//
// identity gRPC client types
//
// Command:
// $ goa gen github.com/vidwadeseram/go-boilerplate/identity-api/design

package client

import (
	identitypb "github.com/vidwadeseram/go-boilerplate/identity-api/gen/grpc/identity/pb"
	identity "github.com/vidwadeseram/go-boilerplate/identity-api/gen/identity"
	identityviews "github.com/vidwadeseram/go-boilerplate/identity-api/gen/identity/views"
	goa "goa.design/goa/v3/pkg"
)

// NewProtoRegisterRequest builds the gRPC request type from the payload of the
// "register" endpoint of the "identity" service.
func NewProtoRegisterRequest(payload *identity.RegisterPayload) *identitypb.RegisterRequest {
	message := &identitypb.RegisterRequest{
		DisplayName: payload.DisplayName,
		Email:       payload.Email,
		Password:    payload.Password,
	}
	return message
}

// NewRegisterResult builds the result type of the "register" endpoint of the
// "identity" service from the gRPC response type.
func NewRegisterResult(message *identitypb.RegisterResponse) *identityviews.UserView {
	result := &identityviews.UserView{
		ID:          &message.Id,
		Email:       &message.Email,
		DisplayName: &message.DisplayName,
		CreatedAt:   &message.CreatedAt,
	}
	return result
}

// NewProtoLoginRequest builds the gRPC request type from the payload of the
// "login" endpoint of the "identity" service.
func NewProtoLoginRequest(payload *identity.Credentials) *identitypb.LoginRequest {
	message := &identitypb.LoginRequest{
		Email:    payload.Email,
		Password: payload.Password,
	}
	return message
}

// NewLoginResult builds the result type of the "login" endpoint of the
// "identity" service from the gRPC response type.
func NewLoginResult(message *identitypb.LoginResponse) *identity.TokenResult {
	result := &identity.TokenResult{
		AccessToken: message.AccessToken,
		ExpiresIn:   int(message.ExpiresIn),
	}
	return result
}

// NewProtoValidateTokenRequest builds the gRPC request type from the payload
// of the "validate_token" endpoint of the "identity" service.
func NewProtoValidateTokenRequest(payload *identity.ValidateTokenPayload) *identitypb.ValidateTokenRequest {
	message := &identitypb.ValidateTokenRequest{
		Token: payload.Token,
	}
	return message
}

// NewValidateTokenResult builds the result type of the "validate_token"
// endpoint of the "identity" service from the gRPC response type.
func NewValidateTokenResult(message *identitypb.ValidateTokenResponse) *identity.ValidationResult {
	result := &identity.ValidationResult{
		Valid:  message.Valid,
		UserID: message.UserId,
		Email:  message.Email,
		Reason: message.Reason,
	}
	return result
}

// ValidateRegisterResponse runs the validations defined on RegisterResponse.
func ValidateRegisterResponse(message *identitypb.RegisterResponse) (err error) {
	err = goa.MergeErrors(err, goa.ValidateFormat("message.created_at", message.CreatedAt, goa.FormatDateTime))
	return
}
